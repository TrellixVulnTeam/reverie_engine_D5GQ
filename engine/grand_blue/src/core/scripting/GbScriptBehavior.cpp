#include "GbScriptBehavior.h"

#include "../scene/GbSceneObject.h"
#include "../GbCoreEngine.h"
#include "../resource/GbResourceCache.h"
#include "../input/GbInputHandler.h"
#include "../components/GbTransformComponent.h"

#include "../../view/GbWidgetManager.h"
#include "../../view/GL/GbGLWidget.h"

namespace Gb {

//////////////////////////////////////////////////////////////////////////////////////////////////////////
ScriptBehavior::ScriptBehavior(SceneObject& sceneObject):
    m_sceneObject(&sceneObject)
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
ScriptBehavior::~ScriptBehavior()
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
InputHandler * ScriptBehavior::inputHandler()
{
    return &(engine()->widgetManager()->mainGLWidget()->inputHandler());
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
CoreEngine * ScriptBehavior::engine()
{
    return m_sceneObject->engine();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
ResourceCache * ScriptBehavior::resourceCache()
{
    return engine()->resourceCache();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
TransformComponent * ScriptBehavior::transform()
{
    return m_sceneObject->transform().get();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
Scene * ScriptBehavior::scene()
{
    return m_sceneObject->scene().get();
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::initialize()
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::update(unsigned long deltaMs)
{
    Q_UNUSED(deltaMs);
//#ifdef DEBUG_MODE
//    logInfo("Updating a script behavior");
//#endif
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::lateUpdate(unsigned long deltaMs)
{
    Q_UNUSED(deltaMs);
//#ifdef DEBUG_MODE
//    logInfo("Late updating a script behavior");
//#endif
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::fixedUpdate(unsigned long deltaMs)
{
    Q_UNUSED(deltaMs);
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::onSuccess()
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::onFail()
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
void ScriptBehavior::onAbort()
{
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////
bool ScriptBehavior::s_logMessages = true;



//////////////////////////////////////////////////////////////////////////////////////////////////////////
}